âœ… PLANEJAMENTO COMPLETO â€” Feature: lista-workouts

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“‹ Artefatos Criados
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… plan.md                      (15 KB) â€” Plano de implementaÃ§Ã£o completo
âœ… test-scenarios.feature       (17 KB) â€” 30+ cenÃ¡rios BDD em Gherkin
âœ… tasks.md                     (33 KB) â€” 10 tarefas detalhadas (8-12h)
âœ… README.md                    ( 6 KB) â€” Guia de navegaÃ§Ã£o

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ¯ Escopo da Feature
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Endpoint: GET /api/v1/workouts
Objetivo: Listar workouts do usuÃ¡rio autenticado com paginaÃ§Ã£o

EntregÃ¡veis:
  âœ… Port WorkoutRepository (domain)
  âœ… Query SQLC (ListWorkoutsByUserID + CountWorkoutsByUserID)
  âœ… WorkoutRepository adapter (SQLC â†’ domain entity)
  âœ… ListWorkoutsUC (validaÃ§Ã£o, paginaÃ§Ã£o, business logic)
  âœ… WorkoutSummaryDTO (mapeamento entity â†’ JSON)
  âœ… WorkoutsHandler HTTP (parse params, call UC, respond)
  âœ… Router (registro de rota com auth middleware)
  âœ… Testes unitÃ¡rios (use case + handler)
  âœ… Testes de integraÃ§Ã£o (DB real)
  âœ… DocumentaÃ§Ã£o (README + Godoc)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âš ï¸  DependÃªncias Bloquantes
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Antes de implementar, VERIFICAR:

  â— Foundation-infrastructure (.thoughts/foundation-infrastructure/)
     â†’ Migrations da tabela 'workouts'
     â†’ Entidade domain/entities/Workout
     â†’ Docker Compose com PostgreSQL

  â— Feature AUTH
     â†’ Middleware de autenticaÃ§Ã£o JWT
     â†’ ExtraÃ§Ã£o de userID do context

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“Š Cobertura de Testes (Planejada)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

CenÃ¡rios BDD: 30+ cenÃ¡rios cobrindo:
  âœ… Happy paths (5 cenÃ¡rios)
  âœ… Edge cases (7 cenÃ¡rios)
  âœ… Sad paths - ValidaÃ§Ã£o (6 cenÃ¡rios)
  âœ… Sad paths - AutenticaÃ§Ã£o (3 cenÃ¡rios)
  âœ… Sad paths - Infraestrutura (1 cenÃ¡rio)
  âœ… Observabilidade (2 cenÃ¡rios)
  âœ… Performance (2 cenÃ¡rios)

Testes UnitÃ¡rios (T08):
  â†’ Use case: validaÃ§Ã£o, defaults, offset, totalPages
  â†’ Handler: parsing, autenticaÃ§Ã£o, mapeamento DTO

Testes de IntegraÃ§Ã£o (T09):
  â†’ Fluxo completo HTTP â†’ UC â†’ Repo â†’ DB
  â†’ Isolamento de dados entre usuÃ¡rios
  â†’ PaginaÃ§Ã£o com DB real

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“ DecisÃµes Arquiteturais
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. AgregaÃ§Ã£o no handler (nÃ£o no domain)
   Justificativa: use cases atÃ´micos, reutilizÃ¡veis por mÃºltiplos clientes

2. WorkoutSummary sem exercises
   Justificativa: performance (detalhes em GET /workouts/:id)

3. PaginaÃ§Ã£o obrigatÃ³ria (default: page=1, pageSize=20)
   Justificativa: prevenir queries sem limite

4. Ordem: created_at DESC
   Justificativa: workouts mais recentes primeiro

5. ValidaÃ§Ã£o de ownership via SQL (WHERE user_id = $1)
   Justificativa: seguranÃ§a por design

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸš€ PrÃ³ximos Passos
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. Verificar dependÃªncias bloquantes:
   â†’ make check-foundation-infrastructure
   â†’ make check-auth-middleware

2. Iniciar implementaÃ§Ã£o:
   â†’ Seguir tasks.md em ordem (T01 â†’ T10)

3. Validar durante implementaÃ§Ã£o:
   â†’ Rodar testes apÃ³s cada tarefa
   â†’ Validar contra cenÃ¡rios BDD
   â†’ Verificar logs estruturados

4. CritÃ©rios de "Done":
   â†’ Todas as tasks concluÃ­das
   â†’ Testes passando (cobertura > 80%)
   â†’ make lint sem warnings
   â†’ DocumentaÃ§Ã£o atualizada
   â†’ Teste manual com curl executado

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“š ReferÃªncias
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Contrato OpenAPI:
  .thoughts/mvp-userflow/api-contract.yaml (linhas 559-595)

Arquitetura:
  .thoughts/mvp-userflow/backend-architecture-report.simplified.md
  .thoughts/mvp-userflow/bff-aggregation-strategy.md

PadrÃµes de cÃ³digo:
  .github/instructions/global.instructions.md

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Status: âœ… PRONTO PARA IMPLEMENTAÃ‡ÃƒO
Fase:   Research â†’ PLAN âœ… â†’ Implement (prÃ³xima)

Gerado em: 2026-02-23
VersÃ£o: 1.0
